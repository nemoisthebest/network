# פרוטוקול ARP

פרוטוקול Address Resolution Protocol) ARP) הוא פרוטוקול המחבר כתובת IP (כתובת לא קבועה המשתנה מידי פעם), לכתובת פיזית קבועה, הידועה גם בשם MAC, ברשת מקומית (LAN).

הליך מיפוי זה חשוב מכיוון שאורכם של כתובות ה-IP וה -MAC שונים, ויש צורך בהליך תרגום זה כדי שהמערכות יוכלו לזהות זו את זו. ה-IP הנפוץ ביותר כיום הוא IP גרסה 4 (IPv4). כתובת IP היא באורך 32 סיביות. עם זאת, כתובות MAC הן באורך 48 סיביות. ARP מתרגם את כתובת ה-32 סיביות ל-48 ולהיפך.

כתובת ה-MAC ידועה גם כשכבת קישור הנתונים (שכבה בין הפיזית לערוץ הנתונים, לא שכבה שרשמית במודל ה-OSI), אשר מייצרת ומפסיקה חיבור בין שני התקנים המחוברים פיזית כך שהעברת נתונים יכולה להתבצע. כתובת ה-IP מכונה גם שכבת הרשת או השכבה האחראית להעברת מנות נתונים דרך נתבים שונים. ARP עובד בין השכבות הללו.

### מה עושה ARP ואיך הוא עובד?

כאשר מחשב חדש מצטרף לרשת מקומית (LAN), הוא יקבל כתובת IP ייחודית לשימוש לצורך זיהוי ותקשורת.

פקטות עם נתונים מגיעות לשעת יציאה (gateway), המיועד למחשב host מסוים. השער, או חלק בחומרת הרשת המאפשר זרימת נתונים מרשת אחת לאחרת, מבקש מ-ARP למצוא כתובת MAC התואמת לכתובת ה-IP. זיכרון מטמון ה-ARP שומר רשימה של כל כתובת IP וכתובת ה-MAC התואמת שלה. מטמון ה-ARP הוא דינמי, אך משתמשים ברשת יכולים גם להגדיר טבלת ARP סטטית המכילה כתובות IP וכתובות MAC.

מטמוני ARP נשמרים בכל מערכות ההפעלה ברשת IPv4 Ethernet. בכל פעם שהתקן מבקש כתובת MAC כדי לשלוח נתונים להתקן אחר המחובר ל-LAN, המכשיר מאמת את מטמון ה-ARP שלו כדי לראות אם החיבור של כתובת ה-IP ל-MAC כבר הושלם. אם היא קיימת, אז בקשה חדשה מיותרת. עם זאת, אם התרגום עדיין לא בוצע, אז הבקשה לכתובות רשת נשלחת, ו-ARP מבוצע.

גודל מטמון ARP מוגבל וכתובות נוטות להישאר במטמון למספר דקות בלבד. הוא מנוקה באופן קבוע כדי לפנות מקום. ניקוי זה נועד גם לפרטיות ואבטחה כדי למנוע גניבה או זיוף של כתובות IP על ידי תוקפי סייבר. בעוד שכתובות MAC קבועות, כתובות IP מתעדכנות כל הזמן.

בתהליך הניקוי, כתובות לא מנוצלות נמחקות, כך גם כל נתונים הקשורים לניסיונות לא מוצלחים לתקשר עם מחשבים שאינם מחוברים לרשת או אפילו לא מופעלים.

![image](https://github.com/user-attachments/assets/e7f0d39f-144c-4256-bee5-046a6fd9fcc2)

## מה זה  Arp Gratuitous?




![gratuitous-arp-shared-ip](https://github.com/user-attachments/assets/c94a8c52-668e-4d28-aaaa-fb3097b04563)
